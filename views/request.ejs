

<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Submit CS Teaching Tool - CSTA</title> <link rel="stylesheet" href="request.css" /> <script src="request.js" defer></script>

pasted


const mongoose = require("mongoose"); const express = require("express"); const app = express(); app.use(express.static(__dirname + "/public")); app.use(express.json()); app.set("view engine", "ejs"); app.use((req, res, next) => { console.log(`${req.method}: ${req.path}`); next();

pasted

is there any mistakes here that'll stop the form from creating a post for the tool that'll go to the admin page

Looking at your code, I can identify several issues that would prevent the form from creating a successful POST request:

Major Issues:
1. JavaScript Errors in Form Submission
In the HTML file, you have this problematic code:

javascript
const createForm = document.querySelector("form")
createForm.addEventListener("submit", async (e) => {
    e.preventDefault()
    const formData = new formData(form); // ❌ Issues here
    const reqBody = object.fromEntries(formData) // ❌ And here
    // ...
})
Problems:

new formData(form) should be new FormData(createForm) (capital F, and use the correct variable)
object.fromEntries should be Object.fromEntries (capital O)
Variable form is undefined - should be createForm
2. Missing Price Model Input Field
Your form references a price field but it's missing from the HTML:

javascript
Price: document.getElementById('price-model').value, // ❌ This element doesn't exist
You have this in your HTML but no actual input:

html
<div class="form-group">
    <label for="price-model">Price Model *</label>
    <!-- Missing input field here! -->
</div>
3. Duplicate Event Listeners
You have two different submit event listeners on the same form, which could cause conflicts.

4. Schema Mismatch
Your backend expects a Price field as required, but your form doesn't collect this data properly.

Quick Fixes:
1. Add the missing price input field:
html
<div class="form-group">
    <label for="price-model">Price Model *</label>
    <select id="price-model" name="priceModel" required>
        <option value="">Select price model</option>
        <option value="Free">Free</option>
        <option value="Paid">Paid</option>
        <option value="Freemium">Freemium</option>
        <option value="Subscription">Subscription</option>
    </select>
</div>
2. Fix the placeholder attribute:
html
<input type="text" id="standard-alignment" name="standardAlignment" 
       placeholder="e.g., CSTA K-12 CS Standards">
3. Remove the duplicate/broken JavaScript and keep only the working one:
Remove this entire block:

javascript
const createForm = document.querySelector("form")
createForm.addEventListener("submit", async (e) => {
    // ... remove this entire block
})
4. Make StandardAlignment optional in your schema (since the form doesn't mark it as required):
javascript
StandardAlignment: { type: String, required: false }, // or just remove required: true
The main issue preventing form submission is the missing price input field and the JavaScript errors. Fix these and your form should work properly!




can you make the changes

I'll fix the issues in both files for you.


Fixed HTML Form
Interactive artifact 

Fixed Server Code
Code 



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit CS Teaching Tool - CSTA</title>
      <link rel="stylesheet" href="request.css" />
    <script src="request.js" defer></script>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Icon imports -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body>
 
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="/" class="logo">
                <svg viewBox="0 0 100 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 5H5V20H20V5Z" fill="#1A1A1A"/>
                    <path d="M40 5H25V20H40V5Z" fill="#1A1A1A"/>
                    <path d="M60 5H45V20H60V5Z" fill="#1A1A1A"/>
                    <path d="M80 5H65V20H80V5Z" fill="#1A1A1A"/>
                    <path d="M95 20H80V35H95V20Z" fill="#1A1A1A"/>
                    <path d="M60 20H45V35H60V20Z" fill="#1A1A1A"/>
                    <path d="M40 20H25V35H40V20Z" fill="#1A1A1A"/>
                    <path d="M20 20H5V35H20V20Z" fill="#1A1A1A"/>
                </svg>
                CSTA
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/library">Resources</a></li>
                    <li><a href="/request">Submit</a></li>
                    <li><a href="/indy">Submit</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <button class="btn btn-outline login-btn">Log In</button>
                <button class="btn">Join CSTA</button>
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <button class="close-btn">
            <i class="fas fa-times"></i>
        </button>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/library">Resources</a></li>
            <li><a href="/request">Submit</a></li>
        </ul>
    </div>

    <div class="submission-page">
        <div class="container">
            <h1>Submit a New Resource</h1>
            <p>Share your favorite CS teaching resource with the community</p>
            
            <form id="resource-submission-form">
                <div class="form-section">
                    <h2>Basic Information</h2>
                    <div class="form-group">
                        <label for="product-name">Resource Name *</label>
                        <input type="text" id="product-name" name="productName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="website-url">Website URL *</label>
                        <input type="url" id="website-url" name="website" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Description *</label>
                        <textarea id="description" name="description" required></textarea>
                    </div>
                </div>
                
                <div class="form-section">
                    <div class="form-group">
                        <label for="product-type">Resource Type *</label>
                        <input type="text" id="product-type" name="productType" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="price-model">Price Model *</label>
                        <select id="price-model" name="priceModel" required>
                            <option value="">Select price model</option>
                            <option value="Free">Free</option>
                            <option value="Paid">Paid</option>
                            <option value="Freemium">Freemium</option>
                            <option value="Subscription">Subscription</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="standard-alignment">Standards Alignment</label>
                        <input type="text" id="standard-alignment" name="standardAlignment" 
                               placeholder="e.g., CSTA K-12 CS Standards">
                    </div>

                    <div class="form-group">
                        <label>Grade Levels *</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="gradeLevel" value="K-5">
                                K-5
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="gradeLevel" value="6-8">
                                6-8
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="gradeLevel" value="9-12">
                                9-12
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="gradeLevel" value="Higher Ed">
                                Higher Ed
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Supported Languages/Tools</label>
                        <div class="checkbox-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="Scratch">
                                Scratch
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="Python">
                                Python
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="JavaScript">
                                JavaScript
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="Java">
                                Java
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="Block-based">
                                Block-based
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="HTML/CSS">
                                HTML/CSS
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="languages" value="Unplugged">
                                Unplugged
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Submit Resource</button>
                    <button type="reset" class="btn btn-outline">Clear Form</button>
                </div>
            </form>
        </div>
    </div>


</body>
</html>
Claude